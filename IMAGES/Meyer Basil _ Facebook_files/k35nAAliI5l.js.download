if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("GroupsCometPageSelfJoinDialogActorListQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="5061464387302888"}),null);
__d("GroupsCometPageSelfJoinDialogActorListQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","GroupsCometPageSelfJoinDialogActorListQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a=function(){var a={defaultValue:5,kind:"LocalArgument",name:"count"},c={defaultValue:null,kind:"LocalArgument",name:"cursor"},d={defaultValue:null,kind:"LocalArgument",name:"id"},e={defaultValue:null,kind:"LocalArgument",name:"scale"},f=[{kind:"Variable",name:"id",variableName:"id"}],g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},i=[{kind:"Variable",name:"after",variableName:"cursor"},{kind:"Variable",name:"first",variableName:"count"}];return{fragment:{argumentDefinitions:[a,c,d,e],kind:"Fragment",metadata:null,name:"GroupsCometPageSelfJoinDialogActorListQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[{args:[{kind:"Variable",name:"count",variableName:"count"},{kind:"Variable",name:"cursor",variableName:"cursor"}],kind:"FragmentSpread",name:"GroupsCometPageSelfJoinDialogActorList_group"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[a,c,e,d],kind:"Operation",name:"GroupsCometPageSelfJoinDialogActorListQuery",selections:[{alias:null,args:f,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{kind:"InlineFragment",selections:[{alias:null,args:i,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,h,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"human_readable_type",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:i,filters:null,handle:"connection",key:"GroupsCometPageSelfJoinDialogActorList_actors_eligible_to_join",kind:"LinkedHandle",name:"actors_eligible_to_join"}],type:"Group",abstractKey:null}],storageKey:null}]},params:{id:b("GroupsCometPageSelfJoinDialogActorListQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometPageSelfJoinDialogActorListQuery",operationKind:"query",text:null}}}();e.exports=a}),null);
__d("GroupsCometPageSelfJoinDialogActorList_group.graphql",["GroupsCometPageSelfJoinDialogActorListQuery.graphql"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=["actors_eligible_to_join"],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{argumentDefinitions:[{defaultValue:5,kind:"LocalArgument",name:"count"},{defaultValue:null,kind:"LocalArgument",name:"cursor"},{kind:"RootArgument",name:"scale"}],kind:"Fragment",metadata:{connection:[{count:"count",cursor:"cursor",direction:"forward",path:a}],refetch:{connection:{forward:{count:"count",cursor:"cursor"},backward:null,path:a},fragmentPathInResult:["node"],operation:b("GroupsCometPageSelfJoinDialogActorListQuery.graphql"),identifierField:"id"}},name:"GroupsCometPageSelfJoinDialogActorList_group",selections:[c,{alias:"actors_eligible_to_join",args:null,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"__GroupsCometPageSelfJoinDialogActorList_actors_eligible_to_join_connection",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[c,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"human_readable_type",plural:!1,selections:[{args:null,kind:"FragmentSpread",name:"CometTextWithEntitiesRelay_textWithEntities"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:null}],type:"Group",abstractKey:null}}();e.exports=a}),null);
__d("GroupsCometPageSelfJoinDialogFooter_group.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"GroupsCometPageSelfJoinDialogFooter_group",selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"funding_subscription_group_join_button_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_group_cta_content",storageKey:null}],type:"Group",abstractKey:null};e.exports=a}),null);
__d("GroupsCometPageSelfJoinDialogQuery.graphql",["CometTextWithEntitiesRelay_textWithEntities$normalization.graphql","GroupsCometPageSelfJoinDialogQuery_facebookRelayOperation","relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"groupID"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],c=[{kind:"Variable",name:"id",variableName:"groupID"}],d={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},e={alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"parent_group",plural:!1,selections:[d],storageKey:null},f={alias:null,args:null,kind:"ScalarField",name:"viewer_join_state",storageKey:null},g={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"follow_dialog_title",storageKey:null},i=[{kind:"Literal",name:"first",value:5}];return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"GroupsCometPageSelfJoinDialogQuery",selections:[{kind:"RequiredField",field:{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[{kind:"RequiredField",field:d,action:"THROW",path:"group.id"},e,f,{args:null,kind:"FragmentSpread",name:"GroupsCometPageSelfJoinDialogActorList_group"},{args:null,kind:"FragmentSpread",name:"GroupsCometPageSelfJoinDialogFooter_group"},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:[g],storageKey:null},h],storageKey:null},action:"THROW",path:"group"}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"GroupsCometPageSelfJoinDialogQuery",selections:[{alias:null,args:c,concreteType:"Group",kind:"LinkedField",name:"group",plural:!1,selections:[d,e,f,{alias:null,args:i,concreteType:"GroupActorsEligibleToJoinConnection",kind:"LinkedField",name:"actors_eligible_to_join",plural:!1,selections:[{alias:null,args:null,concreteType:"GroupActorsEligibleToJoinEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"node",plural:!1,selections:[g,d,{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"human_readable_type",plural:!1,selections:[{args:null,fragment:b("CometTextWithEntitiesRelay_textWithEntities$normalization.graphql"),kind:"FragmentSpread"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"cursor",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PageInfo",kind:"LinkedField",name:"page_info",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"end_cursor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_next_page",storageKey:null}],storageKey:null}],storageKey:"actors_eligible_to_join(first:5)"},{alias:null,args:i,filters:null,handle:"connection",key:"GroupsCometPageSelfJoinDialogActorList_actors_eligible_to_join",kind:"LinkedHandle",name:"actors_eligible_to_join"},{alias:null,args:null,concreteType:"TextWithEntities",kind:"LinkedField",name:"funding_subscription_group_join_button_text",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"follow_button_group_cta_content",storageKey:null},{alias:null,args:null,concreteType:"Group",kind:"LinkedField",name:"if_viewer_can_request_to_participate_on_join_in_forum",plural:!1,selections:[g,d],storageKey:null},h],storageKey:null}]},params:{id:b("GroupsCometPageSelfJoinDialogQuery_facebookRelayOperation"),metadata:{},name:"GroupsCometPageSelfJoinDialogQuery",operationKind:"query",text:null}}}();b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("FBProtectEnrolmentDropdown.react",["fbt","ix","CheckpointBaseSettingsDropdown.react","TetraList.react","TetraListCell.react","fbicon","react","requireDeferred","useCometDeferredDialog"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useRef,m=c("requireDeferred")("FBProtectHelpDialog.react").__setRef("FBProtectEnrolmentDropdown.react");function a(a){a=a.props.onClose;l(null);var b=c("useCometDeferredDialog")(m),e=k(function(){b({})},[b]),f={cellProps:{addOnPrimary:{icon:d("fbicon")._(i("496951"),20),size:36,type:"contained-icon"},headline:h._(/*FBT_CALL*/"Help"/*FBT_CALL*/),level:4,onPress:function(){e()}},itemKey:"facebook-protect-help"};return j.jsx(c("CheckpointBaseSettingsDropdown.react"),{onClose:a,children:function(a){return j.jsx(c("TetraList.react"),{items:[f],children:function(a){var b=a.item;a=a.props;return j.createElement(c("TetraListCell.react"),babelHelpers["extends"]({},a,b.cellProps,{key:b.itemKey}))}})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometPageSelfJoinDialogActorList.react",["CometInfiniteScrollTrigger.react","CometListCellGlimmer.react","CometRelay","CometScrollableArea.react","CometTextWithEntitiesRelay.react","GroupsCometPageSelfJoinDialogActorList_group.graphql","TetraListCell.react","TetraText.react","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={fixedHeight:{maxHeight:"nu4hu5il"}};function a(a){var e=a.group$key,f=a.onChangeSelectedActorID,g=a.selectedActorID;a=d("CometRelay").usePaginationFragment(h!==void 0?h:h=b("GroupsCometPageSelfJoinDialogActorList_group.graphql"),e);e=a.data;var k=a.hasNext,l=a.isLoadingNext,m=a.loadNext;function n(){if(l||!k)return;m(5)}a=((e=(a=e.actors_eligible_to_join)==null?void 0:a.edges)!=null?e:[]).map(function(a){a=a.node;if(a==null)return c("recoverableViolation")("Null node in self join dialog","groups_comet");var b=a.human_readable_type,d=a.id,e=a.name;a=a.profile_picture;if(d==null)return c("recoverableViolation")("Null actor ID in self join dialog","groups_comet");var h=function(){f(d)},j=d===g;a=a==null?void 0:a.uri;var k="Self-Join-Actor-"+d;return i.jsx(c("TetraListCell.react"),{addOnPrimary:a==null?null:{shape:"circle",size:48,source:{uri:a},type:"profile-photo"},addOnSecondary:{on:j,onPress:h,type:"radio"},addOnSecondaryVerticalAlign:"center",body:b==null?c("recoverableViolation")("Nullish human_readable_type field for actor "+((k=d)!=null?k:"(Unknown ID)"),"groups_comet"):i.jsx(c("CometTextWithEntitiesRelay.react"),{textWithEntities:b}),headline:i.jsx(c("TetraText.react"),{type:"headline4",children:e}),onPress:h,selected:j,testid:void 0},d)}).filter(Boolean);return i.jsxs(c("CometScrollableArea.react"),{xstyle:j.fixedHeight,children:[a,i.jsx(c("CometInfiniteScrollTrigger.react"),{hasMore:k,isLoading:l,onLoadMore:n,children:i.jsx(c("CometListCellGlimmer.react"),{imageSize:48,imageStyle:"circle",numberOfItems:1})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometPageSelfJoinDialogFooter.react",["fbt","CometRelay","CometRow.react","CometRowItem.react","GroupForumsFollowActionsFalcoEvent","GroupsCometPageSelfJoinDialogFooter_group.graphql","TetraButtonGroup.react","react","useNullthrowsViolation","useVisibilityObserver"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e=a.group$key,f=a.isSubmitDisabled,g=a.onCancel,k=a.onSubmit;a=d("CometRelay").useFragment(i!==void 0?i:i=b("GroupsCometPageSelfJoinDialogFooter_group.graphql"),e);var l=c("useNullthrowsViolation")(a.id);a=(e=(e=(e=a.funding_subscription_group_join_button_text)==null?void 0:e.text)!=null?e:a==null?void 0:a.follow_button_group_cta_content)!=null?e:h._(/*FBT_CALL*/"Join group"/*FBT_CALL*/);return j.jsx(c("CometRow.react"),{align:"end",paddingHorizontal:0,paddingVertical:12,ref:c("useVisibilityObserver")({onVisible:function(){c("GroupForumsFollowActionsFalcoEvent").log(function(){return{action:"impression",cta_type:"join_follow",group_id:l,screen:"comet_group_page"}})}}),verticalAlign:"center",children:j.jsx(c("CometRowItem.react"),{children:j.jsx(c("TetraButtonGroup.react"),{align:"end",direction:"backward",paddingTop:0,primary:{disabled:f,label:a,onPress:function(){k(),c("GroupForumsFollowActionsFalcoEvent").log(function(){return{action:"click",cta_type:"join_follow",group_id:l,screen:"comet_group_page"}})},padding:"wide",testid:"Page-Join-Dialog-Group-Join-"+l},secondary:{label:h._(/*FBT_CALL*/"Cancel"/*FBT_CALL*/),onPress:g,reduceEmphasis:!0}})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("GroupsCometPageSelfJoinDialog.react",["fbt","CometCardedDialogLegacy.react","CometColumn.react","CometColumnItem.react","CometRelay","GroupsCometPageSelfJoinDialogActorList.react","GroupsCometPageSelfJoinDialogFooter.react","GroupsCometPageSelfJoinDialogQuery.graphql","GroupsCometRequestToParticipateOnJoinDialog.entrypoint","react","useCometEntryPointDialog"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react"),k=d("react").useState;function a(a){var e,f=a.props,g=f.actorID,l=f.onCancel,m=f.onClose,n=f.onCommitJoinMutation,o=f.onJoinMutationCompleted,p=f.onSubmitError;f=a.queries.menuQueryReference;a=k(g);var q=a[0];g=a[1];a=d("CometRelay").usePreloadedQuery(i!==void 0?i:i=b("GroupsCometPageSelfJoinDialogQuery.graphql"),f);var r=a.group;f=function(){l&&l(),m()};var s=r.id;a=c("useCometEntryPointDialog")(c("GroupsCometRequestToParticipateOnJoinDialog.entrypoint"),{actorID:q,groupID:s});var t=a[0],u=r==null?void 0:(a=r.parent_group)==null?void 0:a.id;a=function(){m(),n(s,u,"comet_group_page",q,function(){r.if_viewer_can_request_to_participate_on_join_in_forum!=null&&t({actorID:q}),o(q)},p,r.viewer_join_state)};return j.jsx(c("CometCardedDialogLegacy.react"),{onClose:f,title:(e=r==null?void 0:r.follow_dialog_title)!=null?e:h._(/*FBT_CALL*/"Choose how to join group"/*FBT_CALL*/),withCloseButton:!0,children:j.jsxs(c("CometColumn.react"),{hasDividers:!0,children:[j.jsx(c("CometColumnItem.react"),{paddingVertical:8,children:j.jsx(c("GroupsCometPageSelfJoinDialogActorList.react"),{group$key:r,onChangeSelectedActorID:g,selectedActorID:q})}),j.jsx(c("CometColumnItem.react"),{paddingVertical:0,children:j.jsx(c("GroupsCometPageSelfJoinDialogFooter.react"),{group$key:r,isSubmitDisabled:q==null,onCancel:f,onSubmit:a})})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);